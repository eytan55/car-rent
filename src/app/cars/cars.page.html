<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Cars to lend</ion-title>
    <ion-button
      slot="end"
      fill="clear"
      color="Primary"
      size="large"
      (click)="onNotif()"
    >
    <ion-icon name="mail" size="large"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-card>
          <ion-card-content (click)="onNew()">
            <p>Your car ad...</p>
          </ion-card-content>
        </ion-card>
        <ion-card *ngFor="let car of carsFetched; let i = index">
          <ion-card-header>
            <ion-card-subtitle><ion-icon name="car"></ion-icon>{{ car.name }}</ion-card-subtitle>
            <ion-card-title>{{ car.title }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list lines="none" no-padding>
              <ion-item no-lines no-padding>
                {{ car.description | slice: 0:200 }}...
              </ion-item>
              <ion-item no-lines no-padding>
                  <ion-icon name="calendar"></ion-icon>Available date: {{ car.startdate | date: "MMM dd, yyyy" }}
              </ion-item>
              <ion-item no-lines no-padding>
                  <ion-icon name="calendar"></ion-icon>Return date: {{ car.enddate | date: "MMM dd, yyyy" }}
              </ion-item>
              <ion-item no-lines no-padding>
                  <ion-icon name="compass"></ion-icon>Location: {{ car.location }}
                </ion-item>
                <ion-item no-lines no-padding>
                    <ion-icon name="pricetags"></ion-icon>Price: {{ car.price }}
                  </ion-item>
            </ion-list>
                      <ion-button (click)="onSendMessage(car.id)" shape="round" fill="solid" expand="full"><ion-icon name="mail" size="large"></ion-icon></ion-button
                        >
          </ion-card-content>
        </ion-card>
        <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
          <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data..."
          >
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
